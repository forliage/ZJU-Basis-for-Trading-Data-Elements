#set document(
  title: "数据要素交易基础",
  author: "forliage",
)

// --- 页面与字体设置 ---
#set page(
  paper: "a4",
  margin: (x: 2.5cm, y: 2.2cm),
  // 页眉：显示课程标题
  header: align(center)[
    #text(10pt, fill: gray)[数据要素交易基础]
    #line(length: 100%, stroke: 0.5pt + gray)
  ],
  // 页脚：显示页码
  //footer: align(right)[#counter(page)]
)

// 设置中英文基础字体，保证跨平台兼容性
// 如果你有特定的字体，可以替换 "New Computer Modern" 和 "Noto Serif CJK SC"
// 比如 Windows 用户可以使用 "STSong" "SimSun" 等
#set text(
  font: ("New Computer Modern", "Noto Serif CJK SC"),
  size: 11pt,
  lang: "zh",
)


// --- 颜色定义 ---
#let primary_color = rgb("#007A7A") // 深青色 (Teal)
#let accent_color = rgb("#FFB81C")  // 亮黄色 (Amber)
#let text_color = rgb("#333333")    // 深灰色
#let bg_color = rgb("#F5F7F7")      // 极浅的背景灰

#set text(fill: text_color)

// --- 标题样式定义 ---
// 一级标题
#show heading.where(level: 1): it => {
  v(1.8em, weak: true) // 标题前的垂直间距
  let title_text = text(18pt, weight: "bold", primary_color, it.body)
  [
    #title_text
    #line(length: 100%, stroke: 1pt + primary_color)
  ]
  v(1em, weak: true) // 标题后的垂直间距
}

// 二级标题
#show heading.where(level: 2): it => {
  v(1.2em, weak: true)
  // 在标题前加一个装饰性的方块
  rect(width: 6pt, height: 6pt, fill: accent_color)
  h(6pt)
  text(14pt, weight: "bold", it.body)
  v(0.6em, weak: true)
}

// --- 自定义笔记模块 ---

// 定义模块
#let definition(title, body) = {
  block(
    stroke: (left: 2pt + primary_color),
    radius: 3pt,
    inset: 10pt,
    width: 100%,
    breakable: true,
  )[
    #text(weight: "bold")[定义：#title]
    \
    #body
  ]
}

// 定理模块 (自动编号)
#let theorem_counter = counter("theorem")
#let theorem(title, body) = {
  theorem_counter.step()
  block(
    fill: bg_color,
    radius: 3pt,
    inset: 10pt,
    width: 100%,
    breakable: true,
  )[
    #text(weight: "bold")[定理 #theorem_counter.display("1")：#title]
    \
    #body
  ]
}

// 示例模块
#let example(title, body) = {
  v(0.5em)
  block(
    stroke: (top: 1pt + accent_color.lighten(20%)),
    inset: (top: 10pt, bottom: 10pt, x: 8pt),
    width: 100%,
    breakable: true,
  )[
    #text(weight: "bold", style: "italic", accent_color)[示例：#title]
    \
    #body
  ]
  v(0.5em)
}

// 关键点模块
#let keypoint(body) = {
  block(
    fill: accent_color.lighten(80%),
    radius: 4pt,
    inset: 10pt,
    width: 100%,
    breakable: true,
  )[
    *💡 关键点* \
    #body
  ]
}

// 重要公式模块 (自动编号)
#let formula_counter = counter("formula")
#let formula(eq) = {
  formula_counter.step()
  align(center, $ #eq $)
  align(right, text(9pt, fill: gray)[(#formula_counter.display())])
  v(0.5em)
}

// --- 标题页函数 ---
#let title_page() = {
  // 禁用当前页的页眉页脚
  set page(header: none, footer: none)
  align(center + horizon)[
    #v(3cm)
    #text(28pt, weight: "bold")[数据要素交易基础]
    #v(1cm)
    #text(16pt)[Course Notes]
    #v(2cm)
    #line(length: 30%, stroke: 0.5pt)
    #v(2cm)
    #grid(
      columns: (1fr, 2fr),
      gutter: 1em,
      [讲师：], [刘金飞],
      [学期：], [2025 年暑],
      [学生：], [forliage],
    )
    #v(6cm)
  ]
  // 恢复页眉页脚
  pagebreak()
  set page(
    header: align(center)[#text(10pt, fill: gray)[数据要素交易基础]#line(length: 100%, stroke: 0.5pt + gray)],
    footer: align(right)[#counter(page).display("1 / 1")]
  )
  counter(page).update(1) // 重置页码为1
}

= 期末测试（解答版）

== 一、名词解释（每题2分，共10分）

1.柠檬市场  

2.子博弈完美均衡 

3.组合无套利 
 
4.DSIC 
 
5.比较优势

*Solution:*

1.柠檬市场：柠檬市场是指在信息不对称的情况下，卖方比买方拥有更多关于产品质量的信息，导致买方因无法分辨好坏而只愿意支付基于平均质量的价格。这使得高质量产品的卖方无利可图而退出市场，最终市场上只剩下低质量的“次品”（即柠檬），出现“劣币驱逐良币”的市场失灵现象。（来源：Lecture 3, page 4, 第8节“市场失灵”的最后一个段落及 page 5 的二手车市场例子）

2.子博弈完美均衡:在扩展式博弈中，一个策略向量是子博弈完美均衡，指的是该策略向量在整个博弈的每一个子博弈上都构成一个纳什均衡。这一概念通过要求策略在博弈的每个阶段都必须是最优的，从而排除了那些包含不可置信威胁的纳什均衡。
(来源：Lecture 4, page 4, 第3节“子博弈完美均衡”的定义部分)

3.组合无套利:组合无套利是指在数据定价中，一个查询如果可以被拆分为多个子查询来完成，那么这一个整体查询的价格不应高于所有子查询价格的总和。这个原则旨在防止买家通过组合多个低价查询来绕开一个高价的等效查询，从而实现套利。
(来源：Lecture 9, page 4, 标题为“组合无套利研究...”下的定义部分)
 
4.DSIC:DSIC是“占优策略激励相容”（Dominant-Strategy Incentive Compatible）的缩写。在机制设计中，如果一个机制使得每个参与者无论其他人的策略如何，其自身的占优策略都是诚实地报告自己的类型（如真实估值），那么这个机制就是DSIC的。
(来源：Lecture 7, page 7, 第3节“直接显示机制”的定义2)
 
5.比较优势:如果一个生产者在生产某种物品时，其机会成本（即为生产该物品而必须放弃的其他物品的数量）低于另一个生产者，那么我们就说这个生产者在生产该物品上具有比较优势。贸易的基础是比较优势，而非绝对优势。
(来源：Lecture 1, page 4, 第4节“比较优势”的定义部分)

== 二、单项选择题（每题2分，共18分）

1.下列哪种方法是通过向数据添加随机噪声实现隐私保护的：
$ " "(a)"差分隐私" "   "(b)"安全多方计算" "   "(c)"零知识证明" "   "(d)"同态加密"$

*Solution*:正确答案：(a)

根据笔记内容，差分隐私的实现方式就是通过向真实数据添加经过校准的随机噪声，从而对个人隐私进行量化保护。笔记中明确指出：“怎么实现差分隐私实现：通过对真实数据添加随机噪声进行扰动，实现用户隐私的量化保护 安全性：随机噪声对真实数据的扰动是差分隐私安全性的来源。”
而其他选项：
- (b) 安全多方计算：是在不共享原始数据的基础上进行联合建模。
- (c) 零知识证明：是在不提供任何有用信息的情况下，使验证者相信某个论断是正确的。
- (d) 同态加密：是在密文域上进行操作，避免运算过程中解密数据。

这三者都不是通过添加噪声来实现隐私保护。

(考查知识点：差分隐私的基本原理。来源：Lecture 2, page 3, 第四节 “差分隐私”下的“怎么实现差分隐私实现”段落。)

2.假如全班同学玩一个游戏：要求每位同学给出一个 0 到 100 之间的实数，最后所给数字最接近全
班给出的数字的平均数的$1/2$的同学获胜，以下哪种策略构成纯策略纳什均衡：

$"  "(a)"所有同学都给出 0"$

$"  "(b)"所有同学都给出 50"$

$"  "(c)"所有同学都给出 25"$

$"  "(d)"一半同学给出 0，一半同学给出 50"$

*Solution*:正确答案：(a)

解题分析：
这是一个博弈论问题，我们需要找到一个纯策略纳什均衡点。在纳什均衡状态下，任何一个参与者都无法通过单方面改变自己的策略来获得更好的结果。
设全班有$N$位同学，每位同学$i$给出的数字为$s_i in [0,100]$.所有同学给出数字的平均数为$mu= 1/N sum_(i=1)^N s_i$.获胜的目标数字为$T = 1/2 mu$.

我们来逐一分析每个选项是否构成纳什均衡：

- *(a) 所有同学都给出 0：*如果所有同学都选择 0，即$s_i=0$对所有$i$成立。此时平均数$mu=0$。$T=0$。在这种情况下，所有同学都准确地猜中了目标数字，他们都获胜（或平局）。现在考虑任何一位同学$k$是否有动机单方面改变策略。假设其他$N-1$位同学都选择 0，而同学$k$选择了一个新数字$s_k^prime >0$。新的平均数将是$mu^prime = (s_k^prime + sum_(i != k)0)/(N)= (s_k^prime)/N$。新的目标数字将是$T^prime = 1/2 mu^prime = (s_k^prime)/(2 N)$。同学$k$的最佳策略是让自己的选择$s_k^prime$等于目标$T^prime$，即$s_k^prime = (s_k^prime) / (2 N)$。由于班上至少有两名同学$(N >= 2)$，这个等式只有在$s_k^prime=0$时才成立。这意味着，如果其他人都选择 0，对同学$k$来说，任何$s_k^prime$的选择都会使他离新的目标更远，他的最佳选择仍然是 0。因此，没有人有动机单方面改变策略。这是一个纯策略纳什均衡。
- *(b) 所有同学都给出 50：*如果所有同学都选择 50，则平均数$mu=50$。目标数字$T= 1/2 times 50 = 25$。此时，所有同学都选择了 50，但目标是 25。任何一个同学只要单方面把自己的数字改成 25，他就会比其他人更接近目标数字，从而获胜。因此，大家都有动机改变策略。这不是纳什均衡。
- *(c) 所有同学都给出 25：*如果所有同学都选择 25，则平均数$mu=25$。目标数字$T= 1/2 times 25 = 12.5$。与(b)类似，任何一个同学都有动机把自己的数字改成 12.5 来获胜。这不是纳什均衡。
- *(d) 一半同学给出 0，一半同学给出 50：*假设有$N/2$的人选 0，$N/2$的人选 50。平均数$mu = ((N/2) times 0 + (N/2) times 50)/(N)=25$。目标数字$T= 1/2 times 25=12.5$。此时，选择 0 的同学与目标的差距是 12.5，选择 50 的同学与目标的差距是 37.5。任何一位同学（无论他选了0还是50）只要单方面把自己的数字改为 12.5，就能比所有人都更接近目标而获胜。因此，大家都有动机改变策略。这不是纳什均衡。

(考查知识点：纯策略纳什均衡的定义与应用。来源：Lecture 3, page 10, 第四节“纳什均衡”中对纳什均衡的定义：一个策略组合是纳什均衡，如果对于每个参与人$i$，其选择的策略$s_i$是对于其他参与人策略$s_(-i)$的最佳应对。本题是对该定义的直接应用，通过检验是否存在有利可图的单方面偏离来判断均衡点。)

3.假设你（参与人 1）和另一个同学（参与人 2）闹矛盾，你们可以选择打架或者不打架，但是对方
不清楚你的实力，因此对于对方而言，以下两个表格的情况都可能出现：左边的表格代表你比对
方强，右边的表格代表你比对方弱：

#figure(
  image("/images/image37.png", width: 80%),
) <fig:fig37>

$"  "$假设对方认为你比他强或弱的概率均为 1/2，以下哪项是贝叶斯纯策略纳什均衡：

$"  "(a)"参与人 1 强类型时打架，弱类型时打架，参与人 2 选择打架"$

$"  "(b)"参与人 1 强类型时打架，弱类型时打架，参与人 2 选择不打架"$

$"  "(c)"参与人 1 强类型时打架，弱类型时不打架，参与人 2 选择不打架"$

$"  "(d)"参与人 1 强类型时打架，弱类型时不打架，参与人 2 选择打架"$

*Solution*:正确答案：(d)

解题分析：这是一个不完全信息静态博弈，我们需要找到其贝叶斯纳什均衡。在贝叶斯纳什均衡中，每个参与者的每种类型都选择最大化其期望效用的策略，并且这些策略互为最佳应对。
- 参与人 1 的策略 是一个策略组合，说明他在强类型 (S) 和弱类型 (W) 时分别采取什么行动，记为$(s_(1,S),s_(1,W))$。 
- 参与人 2 的策略 只有一个行动$s_2$，因为他没有私人信息（只有一种类型）。
- 参与人 2 的信念 是：参与人 1 是强类型的概率为$P(S) = 1/2$，是弱类型的概率为$P(W)=1/2$。 

我们来逐一检验每个选项是否构成均衡：
+ 检验参与人1的策略： 对于给定的参与人2的策略$s_2$，参与人1的两种类型是否都选择了最佳应对。
+ 检验参与人2的策略： 对于给定的参与人1的策略组合$(s_(1,S),s_(1,W))$，参与人2的策略$s_2$是否是其期望效用最大化的选择。

- *(a) 策略为：P1(强:打, 弱:打), P2(打)*：检验 P1:若 P1 是弱类型，P2 选择“打架”。P1 若“打架”收益 -2，若“不打架”收益 -1。-1 > -2，所以弱类型的 P1 应该选择“不打架”。选项 (a) 中弱类型 P1 选择“打架”，所以 P1 有动机偏离。(a) 不是均衡。
- *(b)策略为：P1(强:打, 弱:打), P2(不打)*：检验 P2:
   - P1 的策略是无论强弱都“打架”。P2 需要计算自己选择“打架”或“不打架”的期望效用：
   - $bb(E)[u_2 ("打架")|P 1"策略为(打，打)"]= 1/2 times u_2 (P 1"强",P 2"打") + 1/2 times u_2 (P 1 "弱",P 2 "打")= -0.5$
   - $bb(E)[u_2 ("不打架")| P 1 "策略为(打，打)"] = 1/2 times u_2 (P 1 "强", P 2 "不打") + 1/2 times u_2 (P 1 "弱", P 2"不打") = -1$
   - 因为 -0.5 > -1，所以 P2 的最佳选择是“打架”。选项 (b) 中 P2 选择“不打架”，所以 P2 有动机偏离。(b) 不是均衡。
- *(c) 策略为：P1(强:打, 弱:不打), P2(不打)*:检验 P1:若 P1 是弱类型，P2 选择“不打架”。P1 若“打架”收益 2，若“不打架”收益 0。2 > 0，所以弱类型的 P1 应该选择“打架”。选项 (c) 中弱类型 P1 选择“不打架”，所以 P1 有动机偏离。(c) 不是均衡。
- *(d) 策略为：P1(强:打, 弱:不打), P2(打)*:
   - 检验 P1:
      - 若 P1 是强类型，P2 选择“打架”。P1 若“打架”收益 1，若“不打架”收益 -1。1 > -1，强类型 P1 选择“打架”是最佳应对。
      - 若 P1 是弱类型，P2 选择“打架”。P1 若“打架”收益 -2，若“不打架”收益 -1。-1 > -2，弱类型 P1 选择“不打架”是最佳应对。
      - 参与人 1 的策略没有偏离动机。
   - 检验 P2:
      - P1 的策略是强时“打架”，弱时“不打架”。P2 需要计算自己选择“打架”或“不打架”的期望效用：
      - $bb(E)[u_2 ("打架")| P 1"策略为(打，不打)"] = 1/2 times u_2 (P 1"强", P 2"打") + 1/2 times u_2 (P 1 "弱", P 2 "打") = 0$
      - $bb(E)[u_2 ("不打架")|P 1 "策略为(打，不打)"] = 1/2 times u_2 (P 1 "强", P 2 "不打") + 1/2 times u_2 (P 1 "弱", P 2 "不打") = -0.5$
      - 因为 0 > -0.5，所以 P2 的最佳选择是“打架”。
      - 参与人 2 的策略没有偏离动机。
  - 结论： 双方都没有单方面偏离的动机，因此 (d) 是该博弈的贝叶斯纯策略纳什均衡。

(考查知识点：贝叶斯纳什均衡 (Bayesian Nash Equilibrium)。来源：Lecture 4, page 9, 第3节“不完全信息博弈的三个阶段”之前对贝叶斯均衡的定义部分：“不完全信息博弈的策略向量...是不完全信息博弈的贝叶斯均衡，如果对每个参与人$i$，每个类型$t_i$以及每个可能的纯策略$s_i$，都有 $U_i (sigma) >= U_i (s_i, sigma^ast_(-i))$”。本题是该定义的一个直接计算应用。)

4.考虑如下三人$A,B,C$的合作博弈，联盟效用函数为$u(Phi)=0,u(A)=1,u(B)=3,u(C)="  "2,u(A B)=5,u(A C)=4, u(B C)=8, u(A B C)=20$，下列说法正确的是：

$"  "(a)"该博弈的核是空集"$

$"  "(b)"该博弈的核中只包含一个点"$

$"  "(c)"该博弈中" A "的沙普利值比" B "的沙普利值高"$

$"  "(d)"该博弈的沙普利值在核中"$

*Solution*:正确答案：(d)

解题分析：本题考查合作博弈中的两个核心概念：核 (Core) 和 沙普利值 (Shapley Value)。我们需要分别进行计算和判断。

第一步：分析博弈的核 (Core)

核的定义是满足以下条件的分配向量$x=(x_A,x_B,x_C)$的集合：
+ 有效率性 (Efficiency): $x_A + x_B + x_C = u(A B C) = 20$
+ 联盟理性 (Coalitional Rationality):
   - $x_A >= u(A) = 1$
   - $x_B >= u(B) = 3$
   - $x_C >= u(C) = 2$
   - $x_A + x_B >= u(A B) = 5$
   - $x_A + x_C >= u(A C)= 4$
   - $x_B + x_C >= u(B C) = 8$
为了判断核是否为空集，我们可以尝试寻找一个在核内的点，容易发现$x=(5,8,7)$和$x=(6,7,7)$都符合要求，故(a)和(b)错误。

第二步：计算沙普利值 (Shapley Value)

沙普利值的计算公式为对所有可能的参与人排序下的边际贡献取平均。对于三人博弈，共有$3! = 6$种排序。
$ S V_i (u) = 1/(n!) sum_(sigma in S_n) [u(P_i (sigma) union {i}) - u(P_i (sigma))] $
(对于三合作商的Shapley的计算，Final Exam/Review/三人合作商Shapley.pdf 给出了通解，我们直接使用)
- 计算 A 的沙普利值$S V_A = 5$
- 计算 B 的沙普利值$S V_B = 8$
- 计算 C 的沙普利值$S V_C = 7$

因此(c)错误，(d)正确。

(考查知识点：合作博弈的核与沙普利值。来源：Lecture 5, page 2, 第二节“核”的定义部分；Lecture 5, page 4, 第二节“Shapley 值定义”中基于排序的定义和计算方法。)

5.关于多臂老虎机算法，下列说法正确的是：

$"  "(a)"贪心算法探索阶段参数" N"（每个臂探索的次数）的取值与最后的遗憾无关"$

$"  "(b)"UCB 算法的思想是多选择过往表现好的臂以及过往尝试较少的臂"$

$"  "(c)"虽然汤普森采样算法比较简洁，但其遗憾界不如 UCB 算法"$

$"  "(d)"存在确定性算法在对抗性多臂老虎机情形下是无憾的"$

*Solution*:正确答案：(b)

(a) 贪心算法探索阶段参数 N 的取值与最后的遗憾无关： 这个说法是错误的。根据笔记中对贪心算法的遗憾分析，为了最小化遗憾上界$O(T^(2/3) (K log T)^(1/3))$，探索次数 N 的最优取值是与总轮数 T 相关的（具体为$N=(K/T)^(1/3) O(log T)^(1/3)$，简化为$N = T^(2/3) (log T)^(1/3)$）。这表明 N 的取值直接影响最终的遗憾，并非无关。
(来源：Lecture 6, page 3, 第8节“贪心算法的遗憾分析”)

(b)UCB 算法的思想是多选择过往表现好的臂以及过往尝试较少的臂： 这个说法是正确的。UCB 算法的选择规则是选择使得$Q_t (a) + sqrt((2 ln t)/(N_t (a)))$最大的臂$a$。当一个臂被尝试的次数$N_t (a)$较少时，该项会变大，从而鼓励算法探索这个“尝试较少的臂”。笔记中明确指出：“选择上置信界最大的臂有利于偏向于选择表现较好或是较少选择的臂”。
(来源：Lecture 6, page 5, UCB算法直观理解部分)

(c)虽然汤普森采样算法比较简洁，但其遗憾界不如 UCB 算法： 这个说法是错误的。笔记中提到，汤普森采样（TS）算法和 UCB 算法具有相同的渐进遗憾上界，均为$O(sqrt(K T log T))$。并且，笔记中还强调“甚至实证中表明其效果比 UCB 算法更好”，并给出了模拟图例证明这一点。
(来源：Lecture 6, page 8, 第10节“汤普森采样算法”的定理和总结部分)

(d)存在确定性算法在对抗性多臂老虎机情形下是无憾的： 这个说法是错误的。在对抗性多臂老虎机设定下，如果算法是确定性的，那么对手就可以完全预测算法的下一步选择，并给该选择设置最高代价。这将导致线性级别的遗憾（Regret = O(T)），而不是次线性的无憾（no-regret）。笔记中明确指出：“任意的确定性算法都会有线性级别的遗憾”，并说明随机化是无憾的必要条件。
(来源：Lecture 6, page 10, 第4节“随机化是无憾的必要条件”)

6.关于单物品拍卖，下列说法正确的是：

$"  "(a)"单物品第二价格拍卖与英式拍卖在考虑相互依赖价值时等价"$

$"  "(b)"单物品第一价格拍卖与英式拍卖在不考虑相互依赖价值时等价"$

$"  "(c)"竞拍者估值独立同分布的情况下，单物品第一价格拍卖的对称递增均衡满足事后有效率性"$

$"  "(d)"均衡情况下单物品第三价格拍卖的卖家收益一定与单物品一价拍卖、二价拍卖相等"$

*Solution*:正确答案：(c)
- (a) 错误。 根据笔记，在考虑相互依赖价值时，由于英式拍卖是公开出价，竞拍者的行为会相互影响并传递信息，而第二价格拍卖是密封拍卖，不存在这种信息传递。因此，笔记中明确指出：“然而如果考虑相互依赖价值，英式拍卖无法与第二价格拍卖等价”。
(来源：Lecture 7, page 6, 第9节“其它拍卖理论问题”的讨论部分)
- (b) 错误。 根据笔记，在不考虑相互依赖价值（即私有价值）的情况下，英式拍卖与第二价格拍卖等价，而荷式拍卖与第一价格拍卖等价。笔记并未提及第一价格拍卖与英式拍卖等价。
(来源：Lecture 7, page 6, 第9节“其它拍卖理论问题”的讨论部分)
- (c) 正确。 事后有效率性（ex-post efficiency）指的是，物品最终被分配给了对其估值最高的竞拍者，从而实现社会福利最大化。在第一价格拍卖的对称递增均衡中，每个竞拍者的出价策略$beta (t_i)$是其真实估值$t_i$的一个严格递增函数。这意味着，估值越高的竞拍者，其出价也越高。因此，拥有最高估值的竞拍者必然会出最高价并赢得拍卖，这满足事后有效率性的定义。笔记中关于拍卖无效率的讨论，主要针对的是为了最大化卖家收益而设置了保留价格的最优机制，在该机制下，即使有竞拍者估值高于0，物品也可能因为无人出价超过保留价而流拍，从而导致无效率。标准的无保留价第一价格拍卖的均衡是事后有效率的。
(来源：本结论可由 Lecture 7, page 4-5 对第一价格拍卖均衡的描述和 Lecture 7, page 11 对事后有效率的定义推导得出)
- (d) 错误。 收入等价定理指出，在特定条件下（如竞拍者风险中性、估值独立同分布、最高出价者获胜等），几种标准拍卖（一价、二价、英式、荷式）的卖家期望收益是相等的。然而，第三价格拍卖的激励结构与这些标准拍卖有根本不同，它不满足收入等价定理的条件，其均衡收益通常与一价、二价拍卖不相等（通常更低）。
(来源：Lecture 7, page 6, 第9节“收入等价定理”，定理的适用范围不包括第三价格拍卖)

7.以下哪项属于 VCG 机制的不足之处：

$"  "(a)"不是事后有效率的机制"$

$"  "(b)"只能应用于买家估值有先验分布的情况"$

$"  "(c)"可能出现竞拍者增多但卖家收入降低的情况"$

$"  "(d)"与二价拍卖不兼容"$

*Solution*:正确答案：(c)

VCG（Vickrey-Clarke-Groves）机制是一种重要的机制设计工具，但它并非完美无缺。我们来逐一分析各个选项：
- (a) 不是事后有效率的机制： 这个说法是错误的。VCG 机制的一个核心性质就是能够实现社会福利最大化，即事后有效率。笔记中明确指出：“在 DSIC 的基础上，VCG 满足的第二个性质是使得社会福利最大化，因为 VCG 机制在保证诚实报价的情况下基于报价实现了福利最大化的分配。这一性质也被称为事后有效率”。
(来源：Lecture 7, page 11, 第4节“VCG 机制的性质”)
- (b) 只能应用于买家估值有先验分布的情况： 这个说法是错误的。VCG 机制是一个占优策略激励相容（DSIC）的机制，它不依赖于竞拍者估值的任何先验分布信息。笔记中也提到：“VCG 机制不依赖于任何先验分布假设，因此无法定义事前、事中效用”。这反过来说明了它不依赖先验分布，应用范围更广。需要先验分布的是贝叶斯激励相容（BIC）机制，如迈尔森最优拍卖。
(来源：Lecture 7, page 11, 第4节“VCG 机制的性质”)
- (c) 可能出现竞拍者增多但卖家收入降低的情况： 这个说法是正确的。这是 VCG 机制一个著名的缺陷，即不满足收入单调性 (Revenue Monotonicity)。当有新的竞拍者加入时，虽然市场的整体竞争可能更激烈，但由于 VCG 的支付规则是基于对他人造成的外部性损失来计算的，新加入的竞拍者可能会改变这种外部性结构，从而导致最终胜出者的支付价格反而降低，使得卖家收入下降。虽然笔记中没有直接用文字描述这个缺陷，但这是 VCG 机制的经典特性之一，属于其“不足之处”。
(考查知识点：VCG 机制的性质与缺陷。虽然笔记未直接列出此缺陷，但这是 VCG 的核心知识点，是对笔记内容的扩展和深化理解。)
- (d) 与二价拍卖不兼容： 这个说法是错误的。恰恰相反，二价拍卖是 VCG 机制在单物品拍卖场景下的一个特例。笔记中专门有一节对此进行了证明和阐述，结论是 VCG 机制的分配规则和支付规则在单物品拍卖的场景下，与二价拍卖完全一致。
(来源：Lecture 7, page 11, 第3节“二价拍卖与 VCG 机制”)

8.假设买家希望购买一个线性回归模型，卖家的版本化方法是对其线性回归的某个系数添加高斯噪声$epsilon ~ N(0,sigma^2)$，每次添加的噪声之间相互独立。如果添加$epsilon_1 ~ N(0,2)$的模型价格为$p_1$，添加$epsilon_2 ~ N(0,3)$的模型价格为$p_2$，添加$epsilon_3 ~ N(0,4)$的模型价格为$p_3$，如下哪一组定价是满足无套利条件的：

$"  "(a) p_1 = 7, p_2 = 8, p_3 = 9$

$"  "(b) p_1 = 7, p_2 = 6, p_3 = 5$

$"  "(c) p_1 = 7, p_2 = 10, p_3 = 15$

$"  "(d) p_1 = 7, p_2 = 5, p_3 = 3$

*Solution*:正确答案：(b)

本题考查的是数据产品版本化定价中的无套利原则 (arbitrage freeness)。无套利原则要求定价策略不能让买家通过购买低版本产品组合出高版本产品，且成本低于直接购买高版本产品。
+ 价格单调性条件 (Monotonicity)
   - 模型的质量与所添加噪声的方差成反比。方差越小，模型越精确，质量越高，价格也应该越高（或至少不低）。
   - 模型1的噪声方差: $sigma_1^2 = 2$
   - 模型2的噪声方差:$sigma_2^2 = 3$
   - 模型3的噪声方差：$sigma_3^2 =4$
   - 由于$sigma_1^2 < sigma_2^2 < sigma_3^2$，模型的质量是模型1 > 模型2 > 模型3。因此，无套利定价必须满足$p_1 >= p_2 >= p_3$
   - 选项(a)(c)均不对
+ 组合套利条件 (Combination Arbitrage)
   - 买家可以通过购买多个独立的低质量模型，然后对它们的系数进行平均，从而得到一个噪声更小的高质量模型。
   - 假设买家购买两个独立的、添加了噪声$epsilon ~ N(0,sigma^2)$的模型副本。通过对模型系数求平均，得到的新模型的噪声方差为：$"Var"((epsilon_a + epsilon_b)/2) = 1/4 ("Var"(epsilon_a) + "Var"(epsilon_b)) = (sigma^2)/2$
   - 我们来检验一个可能的套利行为：买家能否通过购买模型3来廉价地构造出模型1？
     -  买家购买两个独立的模型3副本，总成本为$2 times p_3$
     -  对这两个副本进行平均，可以得到一个新模型，其噪声方差为$(sigma_3^2)/2 = 2$
     -  这个新构造出的模型的噪声方差与模型1完全相同，即它们质量相同。
     -  为了防止套利，构造模型1的成本必须不低于直接购买模型1的成本。因此，必须满足不等式：$2 p_3 >= p_1$
   -  现在我们用这个条件来检验剩下的选项：只有(b)满足。

综上所述，只有选项 (b) 满足所有无套利条件。

(考查知识点：数据的版本化与无套利原则。来源：Lecture 9, page 2-3，在“数据的版本化”和“版本化带来的问题：套利的可能”部分讨论了通过添加噪声来版本化模型以及由此产生的无套利定价要求。)

9.假设有一个厂商出售商品，有三个具有单位需求的消费者，他们对商品可能的估值集合为$V={1,2,3}$。厂商对消费者估值的先验分布为$(1/4, 1/2, 1/4)$（即有 $1/4$ 的概率为 1，$1/2$ 的概率为 2，$1/4$ 的概率为 3），则厂商对消费者实施三级价格歧视的福利三角形对应的三条约束为（记厂商福
利为$pi$，消费者福利为$u$）

$"  "(a) u>=0, pi >= 3/2, pi + u <= 2$

$"  "(b) u >= 0, pi >= 3/4, pi + u <= 2$

$"  "(c) u >= 0, pi <= 3/2, pi + u >=2$

$"  "(d) u>= 0, pi <= 3/4, pi + u >=2$

*Solution*: 正确答案是 (a)。

这个问题要求我们根据笔记中的“福利三角形”概念，为厂商和消费者福利（$pi$和$u$）确定三条约束。这三条约束是：
+ 消费者福利非负($u>=0$)
+ 厂商福利不低于其最优垄断定价下的福利($pi >= pi^ast$)
+ 社会总福利不超过最大可能值 ($pi + u <= pi^ast$)

(来源：Lecture 12, page 2, 第3节“隐私数据交易的福利影响”)

我们需要根据题目给定的估值集合 V = {1, 2, 3} 和先验分布 (1/4, 1/2, 1/4) 来计算$pi^ast$和$w^ast$.

1.计算最优垄断利润:厂商需要选择一个单一价格 p 来最大化其利润。我们计算在不同定价下的期望利润（假设总消费者数量为1进行归一化计算）：
- 若定价 p = 1： 所有消费者（估值为1, 2, 3）都会购买。购买概率为 1/4 + 1/2 + 1/4 = 1。
利润为 $1 times 1$ = 1。
- 若定价 p = 2： 估值为2和3的消费者会购买。购买概率为 1/2 + 1/4 = 3/4。
利润为$(3/4) times 2 = 3/2$
- 若定价 p = 3： 只有估值为3的消费者会购买。购买概率为 1/4。
利润为$1/4 times 3 = 3/4$

比较这三种情况的利润，3/2 是最大的。因此，最优垄断利润$pi^ast= 3/2$。所以第二条约束是$pi >= 3/2$。

(计算方法参考：Lecture 12, page 3, “下面看最优垄断定价”部分的例子)

2. 计算最大社会福利:最大社会福利是指所有消费者都获得商品时的总估值。我们计算其期望值：
$ w^ast = 1/4 times 1 + 1/2 times 2 + 1/4 times 3 = 2 $
由此可知选(a)

== 三、简答与计算：纳什均衡（14分）

$n$个研究课题组希望购买一份数据供研究使用，每个课题组有两种选择：买或不买，他们的决策是独立做出的（互相之间没有交流）。并且只要有一个课题组购买，所有课题组就可以共用数据。购买数据为每个课题组带来的效用为$u$，购买数据的课题组需要支付价格$p$。设$u > p >0$，每个课题组的效
用函数形式为拟线性效用函数，回答下列问题：

1.（3 分）“只要有一个课题组购买，所有课题组就可以共用数据”体现了数据的什么性质？基于这一
性质简要谈一谈为什么数据产权问题是重要的；

2.（5 分）将上述场景定义为策略式博弈，并求解博弈的纯策略纳什均衡；

3.（6 分）称一纳什均衡是对称的，如果在该纳什均衡中，所有参与人的策略（纯策略或混合策略）都
是相同的。求解该博弈的对称混合策略纳什均衡，并说明从这一结果中能得到的启示。

*Solution*:

1. *体现性质：
这体现了数据作为生产要素的 #emph[公共物品属性]，特别是 #emph[非排他性]（或称非竞争性、零成本复制性）。非排他性意味着一个使用者（课题组）对数据的使用不会妨碍或排除其他使用者（课题组）对同一数据的使用。
*
(来源：Lecture 1, page 3, 第2节“数据定价的意义”中的“公共物品属性(非排他性)”一点)

*产权问题的重要性：*
数据的非排他性使得它很容易产生 #emph[“搭便车” (free-rider) 问题] 和 #emph[“公地悲剧” (Tragedy of the Commons)]。
+ 在这个场景中，如果一个课题组支付了成本购买数据，其他课题组可以无偿地“搭便车”并获得同样的效用 $u$。这会削弱每个课题组主动购买的意愿，因为大家都希望别人来承担成本。
+ 如果没有明确的数据产权界定，就无法形成有效的付费和补偿机制。这会导致数据这种有价值的公共物品可能因为无人愿意率先支付成本而得不到供给，最终造成市场失灵，即对所有人都有效用 $u > p$ 的数据最终无人购买。
+ 因此，清晰的数据产权界定是解决“搭便车”问题、激励数据生产和购买、促进数据流通和实现其社会价值的基础。
*(来源：Lecture 7, page 1, “产权划分 / 政府监管”是公地悲剧的解决方案；以及 Lecture 1, page 3, “公共物品的一个重要问题是产权”)*


2. 这是一个有 $n$ 个参与人（课题组）的策略式博弈。每个参与人 $i$ 的策略集为 `{购买, 不购买}`。给定所有人的策略，我们来分析是否存在纯策略纳什均衡（PSNE）。

我们分析两种可能的均衡状态：

+ #emph[状态一：恰好有一个课题组购买。]
  假设课题组 $i$ 选择“购买”，而其他所有 $j != i$ 的课题组都选择“不购买”。
  - 对于课题组 $i$：其效用为 $u - p$。如果它单方面改变策略为“不购买”，那么就没有人购买数据，其效用将变为 $0$。因为题目设定 $u > p$，所以 $u - p > 0$。因此，课题组 $i$ 没有动机改变策略。
  - 对于任何其他课题组 $j$：其效用为 $u$（因为 $i$ 购买了数据）。如果它单方面改变策略为“购买”，其效用将变为 $u - p$。因为 $u > u - p$，所以课题组 $j$ 也没有动机改变策略。
  由于没有任何参与人有动机单方面改变策略，因此这种状态是纳什均衡。这样的均衡点有 $n$ 个，即任何一个课题组单独购买而其他所有课题组都不购买的情况。

+ #emph[状态二：多于一个或零个课题组购买。]
  - 如果购买者多于一人：任何一个购买者都可以通过从“购买”变为“不购买”，将自己的效用从 $u - p$ 提高到 $u$，所以这不是均衡。
  - 如果没有任何人购买：任何一个课题组都可以通过从“不购买”变为“购买”，将自己的效用从 $0$ 提高到 $u - p$，所以这也不是均衡。

综上所述，该博弈存在 #emph[n 个纯策略纳什均衡]。每一个均衡的具体形式为：#emph[恰好有一个课题组选择“购买”，而其余 $n-1$ 个课题组都选择“不购买”]。
*(来源：Lecture 3, page 10, “纳什均衡”的定义与求解思想，即任何参与人都无法通过单方面偏离策略来获得更高收益)*


1. 在对称混合策略纳什均衡中，每个课题组都以相同的概率 `q` 选择“购买”，以 `1-q` 的概率选择“不购买”。

根据混合策略的 #emph[无差异原则]，一个参与人愿意混合他的策略，当且仅当他选择“购买”和“不购买”的期望效用是相等的。
*(来源：Lecture 4, page 3, “无差异原则”)*

我们对任意一个课题组 `i` 进行分析：
- 选择“购买”的期望效用：$ E[U_i ("购买")] = u - p $
- 选择“不购买”的期望效用：这取决于其他 `n-1` 个课题组中是否至少有一个购买了数据。
  - 其他 `n-1` 个课题组 #emph[全都] 选择“不购买”的概率是 `(1-q)^(n-1)`。
  - 至少有一个其他课题组选择“购买”的概率是 `1 - (1-q)^(n-1)`。
  - 因此，选择“不购买”的期望效用为：
    $ E[U_i ("不购买")] = u * (1 - (1-q)^(n-1)) + 0 * (1-q)^(n-1) = u(1 - (1-q)^(n-1)) $

令二者期望效用相等：
$
  u - p = u(1 - (1-q)^(n-1)) \
  u - p = u - u(1-q)^(n-1) \
  p = u(1-q)^(n-1) \
  (1-q)^(n-1) = p/u \
  1-q = (p/u)^(1/(n-1)) \
  q = 1 - (p/u)^(1/(n-1))
$

所以，对称混合策略纳什均衡是：每个课题组以概率 $q = 1 - (p/u)^(1/(n-1))$ 选择购买。

*启示：*
这个结果揭示了公共物品供给中的核心困境。
1.  #emph[激励随参与人数增加而减弱]：从 `q` 的表达式可以看出，当参与人数量 `n` 增加时，`1/(n-1)` 减小，`(p/u)^(1/(n-1))` 增大，因此单个课题组选择购买的概率 `q` 会 #emph[减小]。这意味着，潜在的“搭便车”者越多，任何个体主动承担公共成本的意愿就越低。
2.  #emph[市场失灵的风险]：在这一均衡下，数据最终 #emph[未被购买]（即所有人都选择“不购买”）的概率为
    $ P("无人购买") = (1-q)^n = ((p/u)^(1/(n-1)))^n = (p/u)^(n/(n-1)) $
    当 `n` 很大时，`n/(n-1)` 趋近于 `1`，所以 $P("无人购买")$ 趋近于 `p/u`。这是一个大于零的概率，说明即使数据对社会整体是有效益的（`u>p`），仍然存在相当大的风险导致数据无人购买，这正是“搭便车”问题导致的 #emph[市场失灵] 的体现。

== 四、简答与计算：不确定性下的数据定价（15 分）

考虑一个数据卖家出售一份数据的场景，但此时卖家不知道这份数据对于买家的价值。考虑下面
三种定价场景并回答相应的问题：

1.（6 分）如果买家是逐个到达市场的，可以将买家估值视为对抗性多臂老虎机给出的，因此可以使
用乘性权重（MWU）算法。请给出 MWU 算法应用于这一场景下的伪代码，并给出伪代码的解
释，特别需要解释代价的定义；

提示：价格本质上是离散的，因为价格有最小单位（如人民币的 “分”），并且合理的价格是有界
的，故可以使用 MWU 算法；

2.（6 分）如果聚集了$n$个买家，则可以使用拍卖的方式诚实显示买家的估值。设$n$个买家对数据
的估值都服从$[200, 500]$上的均匀分布，请给出卖家的最优拍卖机制，以及实施最优拍卖机制下
的卖家期望收益；

提示：数据可以零成本复制，且买家具有单位需求；

3.（3 分）更现实的情况下的出售机制：现实中很少使用拍卖的方式出售数据，因此问题是现实中还
有什么解决卖家对数据对于买家的价值不确定性问题的定价方法？给出一种方法，并说明这一方
法能解决不确定性的理由。

*Solution*:



1. 该场景可以建模为一个在线学习问题，其中卖家的“行动”是选择一个价格进行报价，而“环境”或“对手”则给出该价格下的“代价”。我们可以使用乘性权重（MWU）算法来动态调整选择不同价格的概率，以期在长期内最大化总收益（等价于最小化总代价或遗憾）。

#emph[代价的定义：]
在 MWU 算法中，代价 `c_t(i)` 通常在 `[0, 1]` 区间内，表示行动 `i` 的糟糕程度。在这个定价场景中，卖家的目标是最大化收益。因此，我们可以将“代价”定义为“标准化的损失”或“未达成的收益”。

一个简单有效的定义是：设卖家的行动（可选价格）集合为 `{p_1, p_2, ..., p_K}`。在 `t` 时刻，当买家 `t` 到达时，其未知的真实估值为 `v_t`。对于任何一个可能的价格 `p_i`，其代价 `c_t(i)` 定义为：
- 如果 `p_i > v_t`，则买家会拒绝，交易失败。这被视为一个糟糕的结果，我们定义其代价为 `1`。
- 如果 `p_i <= v_t`，则买家会接受，交易成功。这被视为一个理想的结果，我们定义其代价为 `0`。
这样，代价向量 `c_t` 就反映了在 `t` 时刻哪些价格是“过高的”（代价为1），哪些是“可接受的”（代价为0）。

#emph[伪代码：]

// 初始化

Initialize: 学习率 $epsilon in (0, 1]$

价格集合(行动集) P = {p_1, ..., p_K}

权重 $w_1(i) = 1, forall i = 1, ..., K$

// 算法主循环

For t = 1, 2, ..., T:

计算当前总权重 $W_t = sum_(i=1)^K w_t (i)$

形成概率分布 $q_t (i) = w_t (i) / W_t forall i = 1, ..., K$

卖家根据概率分布 $q_t$ 随机选择一个价格 $p_(i_t)$ 进行报价

观察买家 t 的反馈（购买或不购买），从而推断出代价向量 $c_t$

// 假设卖家能观察到 v_t，或者至少能判断 c_t(i)

For each price $p_i$ in P:

if $p_i$ > $v_t: c_t(i) = 1$

else: $c_t (i) = 0$

更新所有价格的权重

For i = 1, ..., K:

$w_(t+1) (i) = w_t (i) * (1 - epsilon * c_t (i))$


#emph[伪代码解释：]
该算法首先为每个可能的价格初始化一个相等的权重。在每一轮（即每个买家到达时），算法会根据当前的权重计算出选择每个价格的概率，并随机选择一个价格报价。在观察到买家的反应后，它会为 #emph[所有] 可能的价格计算一个代价（如上所定义）。最后，它根据这个代价向量来更新权重：代价高的价格（即报价过高导致交易失败的价格）其权重会按比例降低，而代价低的价格（报价成功）其权重保持不变。通过多轮迭代，算法会逐渐学习到给予那些更有可能成功的价格更高的权重，从而收敛到一个较优的定价策略。
*(来源：Lecture 6, page 11, “更一般的情况”部分的伪代码框和解释。代价的定义是基于该算法框架在当前问题背景下的具体化)*

2. 
#emph[最优拍卖机制：]
根据迈尔森最优拍卖理论，当买家估值独立同分布（i.i.d.）时，卖家的最优拍卖机制是一个带有保留价的次价密封拍卖（Second-Price Auction with Reserve Price）。
*(来源：Lecture 8, page 5, 第4节“买家估值独立同分布情形”)*

我们需要计算这个保留价。保留价 `p_r` 等于卖方估值 `t_0`（此处为0）下的逆虚拟估值，即 `p_r = c^{-1}(0)`。
首先，计算虚拟估值函数 `c(t) = t - (1-F(t))/f(t)`。
- 对于 `U[200, 500]` 分布，其概率密度函数（PDF）为 `f(t) = 1 / (500 - 200) = 1/300`。
- 其累积分布函数（CDF）为 `F(t) = (t - 200) / 300`。
- 因此 `1 - F(t) = (500 - t) / 300`。

代入虚拟估值公式：
$ c(t) = t - ((500-t)/300) / (1/300) = t - (500-t) = 2t - 500 $
*(来源：Lecture 8, page 5, "正则化条件下的解"部分的虚拟估值计算)*

求解保留价 `p_r`，令 `c(p_r) = 0`：
$ 2p_r - 500 = 0 ==> p_r = 250 $

所以，最优拍卖机制是：#emph[保留价为 250 的次价密封拍卖]。
规则为：所有买家提交密封报价，报价最高者（设其报价为 `b_1`，次高报价为 `b_2`）赢得数据，但前提是 `b_1 >= 250`。如果赢得，他需要支付的价格是 `max(b_2, 250)`。

#emph[卖家期望收益：]
在最优拍卖中，卖家的期望收益等于期望的最高虚拟估值（前提是该虚拟估值为正）。
$ E["Revenue"] = E[ max(c(t_1), c(t_2), ..., c(t_n), 0) ] $
其中 `c(t_i) = 2t_i - 500`，`t_i` 是从 `U[200, 500]` 中抽取的。
设 `Y_i = c(t_i)`，则 `Y_i` 服从 `U[2*200-500, 2*500-500] = U[-100, 500]`。
期望收益即为 `n` 个从 `U[-100, 500]` 分布中抽取的随机变量与 `0` 的最大值的期望。
设 `Y_(n)` 为 `n` 个 `Y_i` 中的最大值。期望收益为 $E[max(Y_(n), 0)]$。
$ E["Revenue"] = integral_0^500 y d F_(Y_(n)) (y) $
其中 $F_{Y_(n)}(y)$ 是 `Y_(n)` 的累积分布函数。
$ F_{Y_(n)}(y) = (F_Y(y))^n = ((y - (-100)) / (500 - (-100)))^n = ((y+100)/600)^n $
计算这个积分比较复杂，但其设置是清晰的。对于 `n=1` 的情况，收益为
$ E["Revenue"] = P(t_1 >= 250) * 250 = (500-250)/300 * 250 = 5/6 * 250 = 625/3 approx 208.33 $。
*(来源：Lecture 8, page 3, “引理”部分，将卖家收益与虚拟福利最大化问题关联)*

3. 
#emph[方法：]
一种现实中常用且有效的方法是 #emph[数据的版本化（Versioning）]。
*(来源：Lecture 9, page 2, "数据的版本化")*

#emph[理由：]
数据的版本化之所以能解决价值不确定性问题，是因为它利用了 #emph[买家自我选择（self-selection）] 的原理，从而巧妙地实现了 #emph[价格歧视]。
1.  #emph[创建不同版本]：卖家不提供单一的数据产品，而是创建多个具有不同质量或功能维度的版本。例如，提供一个高质量、完整的“高级版”，以及一个带有噪声、数据量较少或功能受限的“基础版”。
2.  #emph[差异化定价]：为不同版本设定不同价格，高级版价格高，基础版价格低。
3.  #emph[解决不确定性]：卖家无需知道每个买家的确切估值。高估值的买家会发现购买“高级版”是值得的，因为他们能从中获得足够高的效用；而低估值的买家虽然不会购买“高级版”，但可能会发现“基础版”的价格在他们的可接受范围内。
通过这种方式，买家会根据自己未知的估值主动选择最适合自己的版本。这使得卖家能够将市场进行有效分割，并从不同估值水平的买家群体中获取收益，从而在不知道具体个体价值的情况下，解决了定价不确定性问题，并提升了总体利润。
*(来源：Lecture 9, page 3, "版本化带来的问题：套利的可能"中的"增大卖家利润：价格歧视理论")*

== 五、简答与计算：贝叶斯劝说（13 分）

1. 贝叶斯劝说是一种重要的信息设计方法，请简要叙述：

$"  "(a)"（3 分）信息设计和机制设计的异同；"$

$"  "(b)"（3 分）信息设计的显示原理和机制设计的显示原理的异同；"$

2. 考虑上课讲的导师给学生写推荐信的例子，与上课例子不同的地方在于：第一，企业和导师对学生类型的共同先验分布设为可变参数$p in (0,1)$，即$mu_0 ("excellent")=p, mu_0 ("average")=1-p$；第二，企业在招收到优秀的学生时获得效用仍为 1，但招到普通学生时获得效用为 −2，回答以下问题：

$"  "(a)"（2 分）求"p"的范围使得导师设计信号机制相比于先验情况可以得到严格更高的效用；"$

$"  "(b)"（5 分）若" p = 0.5，"求导师最优的写推荐信策略。"$

*Solution*:

1. 

(a)信息设计和机制设计的异同；

#emph[相同点：]
信息设计与机制设计的目标都是通过设计一个“环境”来影响理性参与人（接收者）的行为，从而使设计者（发送者）自身的效用最大化。

#emph[不同点：]
它们影响参与人行为的方式不同：
- #emph[信息设计 (Information Design)] 是通过策略性地披露信息，来改变参与人对世界真实状态的 #emph[信念 (belief)]。参与人在更新了信念后，会根据新的信念做出对自身最优的决策。
- #emph[机制设计 (Mechanism Design)] 是通过设计一套行动规则和 #emph[激励 (incentive)]（如支付函数），来改变参与人行动的后果。参与人在给定的规则和激励下，做出对自身最优的决策。

简言之，信息设计操纵信念，而机制设计操纵激励。
*(来源：Lecture 10, page 6, "显示原理"下的第一个项目符号)*

(b) 信息设计的显示原理和机制设计的显示原理的异同；

#emph[相同点：]
两者都是为了简化设计空间，它们都表明，我们只需考虑一类更简单、更规范的“直接”机制/信号，而不会损失一般性。

#emph[不同点：]
它们对“直接”的定义不同：
- 在 #emph[信息设计] 的显示原理中，“直接”意味着信号的实现就是对接收者的一个 #emph[行动推荐]。一个好的信号机制能保证接收者会 #emph[遵从 (obedient)] 这个推荐。
- 在 #emph[机制设计] 的显示原理中，“直接”意味着参与人的行动就是向机制 #emph[报告自己的类型 (type)]。一个好的机制能保证参与者会 #emph[诚实地 (truthful)] 报告自己的类型。

*(来源：信息设计的显示原理来自 Lecture 10, page 6, "显示原理"；机制设计的显示原理来自 Lecture 7, page 7, 第4节“显示原理”)*

2. 

(a)

导师设计信号机制能获得严格更高的效用，当且仅当在没有信号的情况下，企业默认的行动不是导师最希望的行动，并且通过信号有可能改变企业的行动。
导师的期望效用在企业“雇用”时为 1，在“不雇用”时为 0。

首先，分析在先验情况下（即无信号时），企业的默认行动。企业会选择“雇用”当且仅当雇用的期望效用不小于 0。
企业的期望效用为：
$ E[U("雇用")] = p * U("雇用|优秀") + (1-p) * U("雇用|普通") $
$ E[U("雇用")] = p * 1 + (1-p) * (-2) = p - 2 + 2p = 3p - 2 $

企业会默认雇用，如果 $3p-2 >= 0$，即 $p >= 2/3$。
企业会默认不雇用，如果 $3p-2 < 0$，即 $p < 2/3$。

- 当 $p >= 2/3$ 时，企业默认雇用，导师的先验效用为 1，已达最大值，无法通过信号机制获得严格更高的效用。
- 当 $p < 2/3$ 时，企业默认不雇用，导师的先验效用为 0。此时，导师可以通过设计信号来说服企业在某些情况下雇用学生，从而获得大于 0 的效用。

因此，使得导师能获得严格更高用的 $p$ 的范围是 $p < 2/3$。
*(来源：Lecture 10, page 7, "推论：最优信号机制问题的解存在...当且仅当 V(μ0) > v_tilde(μ0)")*

(b) 

当 $p=0.5$ 时，先验信念 $µ_0 = (0.5, 0.5)$。
这是一个贝叶斯劝说问题，其解是发送者（导师）期望效用的凹包络 $V(µ_0)$。

第一步，确定接收者（企业）的行动与后验信念的关系。
设企业在收到信号后的后验信念为 $µ("excellent") = µ$，则其雇用期望效用为 $3µ-2$。企业会雇用当且仅当 $µ >= 2/3$。

第二步，确定发送者（导师）的间接效用函数 $v_tilde(µ)$。
$ v_tilde(µ) = cases(
  1, "if " µ >= 2/3 " (企业雇用)",
  0, "if " µ < 2/3 " (企业不雇用)"
) $
这是一个在 $µ=2/3$ 处从 0 跳到 1 的阶梯函数。

第三步，求解 $V(µ_0)$，其中 $µ_0=0.5$。
$V(µ)$ 是 $v_tilde(µ)$ 的凹包络（最小的凹函数且 $V(µ) >= v_tilde(µ)$）。
为了最大化期望效用，导师需要设计信号，将先验信念 $µ_0=0.5$ 分解为两个后验信念 $µ_L$ 和 $µ_H$ 的凸组合，其中 $µ_L$ 落在“不雇用”区域，$µ_H$ 落在“雇用”区域。最优的选择是 $µ_L=0$ 和 $µ_H=2/3$。
设信号诱导出 $µ_H$ 的概率为 $q_H$，诱导出 $µ_L$ 的概率为 $q_L$。根据贝叶斯可行性，有：
$ q_L * µ_L + q_H * µ_H = µ_0 $
$ (1-q_H) * 0 + q_H * (2/3) = 0.5 $
$ q_H = 0.5 / (2/3) = 3/4 $
因此，有 $3/4$ 的概率诱导出后验 $2/3$（企业雇用），有 $1/4$ 的概率诱导出后验 $0$（企业不雇用）。

第四步，根据后验信念构造最优信号策略 $π("信号|类型")$。
我们设有两个信号：“好推荐信”(H) 和 “坏推荐信”(L)，分别诱导出后验 $µ_H=2/3$ 和 $µ_L=0$。
- 为了让 $µ_L ("excellent")=0$，必须有 $π("L|excellent")=0$。因此 $π("H|excellent")=1$。
  (即对优秀学生，导师总是发好推荐信)
- 利用 $q_H = P(H) = 3/4$ 和贝叶斯公式：
  $ P(H) = π("H|excellent")p + π("H|average")(1-p) $
  $ 3/4 = 1 * (0.5) + π("H|average") * (0.5) $
  $ 0.75 = 0.5 + 0.5 * π("H|average") $
  $ 0.25 = 0.5 * π("H|average") $
  $ π("H|average") = 1/2 $
- 因此 $π("L|average") = 1 - π("H|average") = 1/2$。

#emph[最优推荐策略是：]
- 如果学生是优秀的，导师 $100\%$ 的概率发“好推荐信”。
- 如果学生是普通的，导师有 $50\%$ 的概率发“好推荐信”，$50\%$ 的概率发“坏推荐信”。

*(来源：Lecture 10, page 7, "最优信号机制的解"和"例：导师写推荐信问题的解"的方法论)*

== 六、课程反馈（30 分）

1.（10 分）在这门课中你觉得最有收获的是哪一节，让你最困惑的是哪一节，为什么？

2.（10 分）在这门课中你觉得最需要改进的是哪些方面？例如教学内容的选择、课程安排、考核方式、课堂氛围等。

3.（10 分）畅所欲言你在这门课的任何感受，或者任何想对老师和助教说的话。